= google_drive_search
:type: processor
:status: experimental
:categories: ["Unstructured"]



////
     THIS FILE IS AUTOGENERATED!

     To make changes, edit the corresponding source file under:

     https://github.com/redpanda-data/connect/tree/main/internal/impl/<provider>.

     And:

     https://github.com/redpanda-data/connect/tree/main/cmd/tools/docs_gen/templates/plugin.adoc.tmpl
////

// Â© 2024 Redpanda Data Inc.


component_type_dropdown::[]


Searches Google Drive for files matching the provided query.

```yml
# Config fields, showing default values
label: ""
google_drive_search:
  credentials_json: "" # No default (optional)
  query: "" # No default (required)
  projection:
    - id
    - name
    - mimeType
    - parents
    - size
  max_results: 64
```

This processor searches for files in Google Drive using the provided query.

Search results are emitted as message batch.

Authentication is expected to be configured through Google application credentials.


== Fields

=== `credentials_json`

A service account credentials JSON file. If left unset than the application default credentials are used.
[CAUTION]
====
This field contains sensitive information that usually shouldn't be added to a config directly, read our xref:configuration:secrets.adoc[secrets page for more info].
====



*Type*: `string`


=== `query`

The search query to use for finding files in Google Drive. Supports the same query format as the Google Drive UI.
This field supports xref:configuration:interpolation.adoc#bloblang-queries[interpolation functions].


*Type*: `string`


=== `projection`

The partial fields to include in the result.


*Type*: `array`

*Default*: `["id","name","mimeType","parents","size"]`

=== `max_results`

The maximum number of results to return.


*Type*: `int`

*Default*: `64`

== Examples

[tabs]
======
Search & download files from Google Drive::
+
--

This examples downloads all the files from Google Drive that are returned in the query

```yaml
input:
  stdin: {}
pipeline:
  processors:
    - google_drive_search:
        query: "${!content().string()}"
        projection: ["id", "name", "mimeType", "parents", "size"]
    - mutation: 'meta path = this.name'
    - google_drive_download:
        file_id: "${!this.id}"
        mime_type: "${!this.mimeType}"
output:
  file:
    path: "${!@path}"
    codec: all-bytes
```

--
======


